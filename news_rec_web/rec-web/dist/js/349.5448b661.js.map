{"version":3,"file":"js/349.5448b661.js","mappings":"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","sources":["webpack://trade-web/./src/components/NewsInfo.vue","webpack://trade-web/src/components/NewsInfo.vue","webpack://trade-web/./src/components/NewsInfo.vue?5e0d","webpack://trade-web/./src/components/NewsInfo.vue?a670"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"left-text\":\"返回\",\"left-arrow\":\"\",\"fixed\":_vm.isFixed},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticClass:\"newsinfo-continer\"},[_c('div',{staticClass:\"newsTitle\"},[_c('h1',[_vm._v(_vm._s(_vm.news_content.title))]),_c('p',[_c('span',[_vm._v(\"发布时间：\"+_vm._s(_vm.news_content.ctime))]),_c('span',[_vm._v(\"标签：\"+_vm._s(_vm.cate))])]),_c('hr')]),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.content)}}),_c('div',{staticClass:\"editor\",domProps:{\"innerHTML\":_vm._s(_vm.editor)}}),_c('div',{attrs:{\"id\":\"action\"}},[_c('span',[_vm._v(\"喜欢: \"),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.islike),expression:\"!islike\"}],staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\",\"width\":\"12\",\"height\":\"12\"},on:{\"click\":_vm.iflike}},[_c('use',{attrs:{\"xlink:href\":\"#icon-xihuan1\"}})]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.islike),expression:\"islike\"}],staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\",\"width\":\"12\",\"height\":\"12\"},on:{\"click\":_vm.iflike}},[_c('use',{attrs:{\"xlink:href\":\"#icon-xihuan\"}})])]),_c('span',[_vm._v(\"收藏: \"),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.iscollection),expression:\"!iscollection\"}],staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\",\"width\":\"12\",\"height\":\"12\"},on:{\"click\":_vm.ifcollection}},[_c('use',{attrs:{\"xlink:href\":\"#icon-shoucang\"}})]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.iscollection),expression:\"iscollection\"}],staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\",\"width\":\"12\",\"height\":\"12\"},on:{\"click\":_vm.ifcollection}},[_c('use',{attrs:{\"xlink:href\":\"#icon-shoucang1\"}})])])])]),_c('div',{staticClass:\"blank\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar left-text=\"返回\" left-arrow @click-left=\"onClickLeft\" :fixed='isFixed' />\r\n    <div class=\"newsinfo-continer\">\r\n      <div class=\"newsTitle\">\r\n        <!--大标题-->\r\n        <h1>{{ news_content.title }}</h1>\r\n        <!--子标题-->\r\n        <p>\r\n          <span>发布时间：{{ news_content.ctime}}</span>\r\n          <span>标签：{{cate}}</span>\r\n        </p>\r\n        <hr>\r\n      </div>\r\n\r\n      <!--内容区域-->\r\n      <div class=\"content\" v-html=\"content\"></div>\r\n      <div class=\"editor\" v-html=\"editor\"></div>\r\n\r\n      <div id=\"action\">\r\n        <span>喜欢:\r\n          <svg class=\"icon\" aria-hidden=\"true\" width=\"12\" height=\"12\" v-show=\"!islike\" @click=\"iflike\">\r\n            <use xlink:href=\"#icon-xihuan1\"></use>\r\n          </svg>\r\n          <svg class=\"icon\" aria-hidden=\"true\" width=\"12\" height=\"12\" v-show=\"islike\" @click=\"iflike\">\r\n            <use xlink:href=\"#icon-xihuan\"></use>\r\n          </svg>\r\n        </span>\r\n        <span>收藏:\r\n          <svg class=\"icon\" aria-hidden=\"true\" width=\"12\" height=\"12\" v-show=\"!iscollection\" @click=\"ifcollection\">\r\n            <use xlink:href=\"#icon-shoucang\"></use>\r\n          </svg>\r\n          <svg class=\"icon\" aria-hidden=\"true\" width=\"12\" height=\"12\" v-show=\"iscollection\" @click=\"ifcollection\">\r\n            <use xlink:href=\"#icon-shoucang1\"></use>\r\n          </svg>\r\n        </span>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"blank\"></div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import { Toast } from 'vant'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        // 获取路由地址的id,根据这个id来展示不同的数据。\r\n        id: this.$route.params.id,\r\n        news_content: [],\r\n        content: '',\r\n        editor: '',\r\n        islike: false,\r\n        iscollection: false,\r\n        isFixed: true,\r\n        cate: this.$route.params.cate\r\n      }\r\n\r\n    },\r\n    methods: {\r\n      // 返回上一页\r\n      onClickLeft() {\r\n        this.$router.go(-1);\r\n      },\r\n\r\n      // 获取新闻详情\r\n      getNewsInfo() {\r\n        let reg = /责任编辑/;\r\n        let user_name = this.$store.state.user.username;\r\n        this.axios.get(\"/recsys/news_detail?news_id=\" + this.id + '&user_name=' + user_name).then(resource => {\r\n          if (resource.status === 200) {\r\n            this.news_content = resource.data.data\r\n            this.content = this.news_content.content.split(reg)[0]\r\n            this.editor = '责任编辑:' + this.news_content.content.split(reg)[1]\r\n            if (resource.data.data.likes == true) {\r\n              this.islike = true\r\n            } else {\r\n              this.islike = false\r\n            }\r\n            if (resource.data.data.collections == true) {\r\n              this.iscollection = true\r\n            } else {\r\n              this.iscollection = false\r\n            }\r\n          } else {\r\n            Toast('加载数据失败')\r\n          }\r\n        })\r\n\r\n      },\r\n\r\n      // 发送action为read的请求\r\n      sendInfo() {\r\n        var val = {\r\n          user_name: this.$store.state.user.username,\r\n          news_id: this.id,\r\n          action_time: Date.now(),\r\n          action_type: 'read',\r\n        }\r\n        this.axios.post(\"/recsys/action\", val).then(resource => {\r\n          if (resource.status === 200) {} else {\r\n            Toast('加载数据失败')\r\n          }\r\n        })\r\n      },\r\n\r\n      // 点击喜欢时发送请求\r\n      iflike() {\r\n        this.islike = !this.islike\r\n        // 调用store中的actionChange函数控制次数的变化\r\n        if(this.islike == true){\r\n            this.$store.commit('actionChange', {type:'likes',id:this.id,num:1})\r\n          }else{\r\n            this.$store.commit('actionChange', {type:'likes',id:this.id,num:-1})\r\n          }\r\n        var val = {\r\n          user_name: this.$store.state.user.username,\r\n          news_id: this.id,\r\n          action_time: Date.now(),\r\n          action_type: `likes:${this.islike}`,\r\n        }\r\n        this.axios.post(\"/recsys/action\", val).then(resource => {\r\n          if (resource.status === 200) {\r\n          } else {\r\n            Toast('加载数据失败')\r\n          }\r\n        })\r\n\r\n      },\r\n\r\n      // 点击收藏时发送请求\r\n      ifcollection() {\r\n        this.iscollection = !this.iscollection\r\n        if(this.iscollection == true){\r\n           this.$store.commit('actionChange', {type:'collections',id:this.id,num:1})\r\n          }else{\r\n            this.$store.commit('actionChange', {type:'collections',id:this.id,num:-1})\r\n          }\r\n        var val = {\r\n          user_name: this.$store.state.user.username,\r\n          news_id: this.id,\r\n          action_time: Date.now(),\r\n          action_type: `collections:${this.iscollection}`,\r\n        }\r\n        this.axios.post(\"/recsys/action\", val).then(resource => {\r\n          if (resource.status === 200) {\r\n          } else {\r\n            Toast('加载数据失败')\r\n          }\r\n        })\r\n      }\r\n    },\r\n\r\n    // 创建页面时调用函数\r\n    created() {\r\n      this.getNewsInfo()\r\n      this.sendInfo()\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    /* 标题 */\r\n  .newsTitle {\r\n    padding: 3.5rem 1.5rem 0 1.5rem;\r\n  }\r\n\r\n  /* 大标题 */\r\n  .newsTitle h1 {\r\n    text-align: center;\r\n    color: rgb(77,79,83);;\r\n    font-weight: 600;\r\n    padding: 40px 0 20px 0;\r\n    margin: 0;\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  /* 副标题 */\r\n  .newsTitle p {\r\n    font-size: 12px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding-top: 1rem;\r\n    padding-bottom: 1rem;\r\n    color: #4679e3;\r\n  }\r\n\r\n  /* 内容 距离底部padding 遮挡action */\r\n  .newsinfo-continer[data-v-6bb6e9d1] {\r\n    padding-bottom: 5rem;\r\n    background-color: white;\r\n  }\r\n\r\n  /* 具体内容 */\r\n  .content[data-v-6bb6e9d1] {\r\n    font-size: 1rem;\r\n    padding: 0 20px 20px 20px;\r\n    text-indent: 2em;\r\n    line-height: 2.2rem;\r\n    /* 首行文本缩进 */\r\n    color: rgb(28 27 29);\r\n}\r\n\r\n  /* 责任编辑 */\r\n  .editor {\r\n    font-size: 1rem;\r\n    padding: 0 20px 0 20px;\r\n    line-height: 2.2rem;\r\n    text-align: end;\r\n  }\r\n\r\n  #action {\r\n    /* margin: 20px 0 20px 0; */\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n  }\r\n\r\n  #action>span {\r\n    display: inline-block;\r\n    padding-top: 2rem;\r\n    padding-bottom: 2rem;\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .blank {\r\n    width: 100vw;\r\n    height: 50px;\r\n    position: fixed;\r\n    bottom: 0;\r\n    background-color: white;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewsInfo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewsInfo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NewsInfo.vue?vue&type=template&id=d4fcc7c2&scoped=true\"\nimport script from \"./NewsInfo.vue?vue&type=script&lang=js\"\nexport * from \"./NewsInfo.vue?vue&type=script&lang=js\"\nimport style0 from \"./NewsInfo.vue?vue&type=style&index=0&id=d4fcc7c2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d4fcc7c2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","isFixed","on","onClickLeft","staticClass","_v","_s","news_content","title","ctime","cate","domProps","content","editor","directives","name","rawName","value","islike","expression","iflike","iscollection","ifcollection","staticRenderFns","data","id","$route","params","methods","$router","go","getNewsInfo","reg","user_name","$store","state","user","username","axios","get","then","resource","status","split","likes","collections","Toast","sendInfo","val","news_id","action_time","Date","now","action_type","post","commit","type","num","created","component"],"sourceRoot":""}
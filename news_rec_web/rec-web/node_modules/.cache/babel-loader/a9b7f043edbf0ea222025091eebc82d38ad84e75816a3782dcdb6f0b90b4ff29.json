{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    type: '',\n    //signIn,signUp  区分获取接口时的url\n    user: {\n      username: '',\n      age: '',\n      gender: ''\n    },\n    //存储用户信息\n    recList: [],\n    //推荐页的新闻列表\n    hotList: [] //热门页的新闻列表\n  },\n  mutations: {\n    // 清空列表 在刷新时调用 重新给列表赋值\n    clearList(state, payload) {\n      if (payload == \"recList\") {\n        state.recList = [];\n      } else if (payload == \"hotList\") {\n        state.hotList = [];\n      }\n    },\n    //点进新闻详情页时触发，让阅读次数增加\n    numChange(state, payload) {\n      let reg = /NewsInfo\\//;\n      if (payload.item == 'recList') {\n        for (let i = 0; i < state.recList.length; i++) {\n          if (state.recList[i].news_id == payload.path.split(reg)[1]) {\n            state.recList[i].read_num++;\n          }\n        }\n      } else if (payload.item == 'hotList') {\n        for (let i = 0; i < state.hotList.length; i++) {\n          if (state.hotList[i].news_id == payload.path.split(reg)[1]) {\n            state.hotList[i].read_num++;\n          }\n        }\n      }\n    },\n    //点击喜欢或者收藏时触发，让相应次数增加或者减少\n    actionChange(state, payload) {\n      if (payload.type == 'likes') {\n        for (let i = 0; i < state.recList.length; i++) {\n          if (state.recList[i].news_id == payload.id) {\n            state.recList[i].likes += payload.num;\n          }\n        }\n        for (let i = 0; i < state.hotList.length; i++) {\n          if (state.hotList[i].news_id == payload.id) {\n            state.hotList[i].likes += payload.num;\n          }\n        }\n      } else if (payload.type == 'collections') {\n        for (let i = 0; i < state.recList.length; i++) {\n          if (state.recList[i].news_id == payload.id) {\n            state.recList[i].collections += payload.num;\n          }\n        }\n        for (let i = 0; i < state.hotList.length; i++) {\n          if (state.hotList[i].news_id == payload.id) {\n            state.hotList[i].collections += payload.num;\n          }\n        }\n      }\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","use","Store","state","type","user","username","age","gender","recList","hotList","mutations","clearList","payload","numChange","reg","item","i","length","news_id","path","split","read_num","actionChange","id","likes","num","collections"],"sources":["/home/harry/fun-rec/codes/news_recsys/news_rec_web/rec-web/src/store.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        type: '',  //signIn,signUp  区分获取接口时的url\n        user: {\n            username: '',\n            age: '',\n            gender: ''\n        },  //存储用户信息\n        recList: [],  //推荐页的新闻列表\n        hotList: [],  //热门页的新闻列表\n    },\n    mutations: {\n        // 清空列表 在刷新时调用 重新给列表赋值\n        clearList(state, payload){\n            if(payload == \"recList\"){\n                state.recList = []\n            }else if(payload == \"hotList\"){\n                state.hotList = []\n            }\n        },\n\n        //点进新闻详情页时触发，让阅读次数增加\n        numChange(state, payload) {\n            let reg = /NewsInfo\\//\n            if(payload.item == 'recList'){\n                for (let i = 0; i < state.recList.length; i++) {\n                    if (state.recList[i].news_id == payload.path.split(reg)[1]) {\n                        state.recList[i].read_num++\n                    }\n                }\n            }else if(payload.item == 'hotList'){\n                for (let i = 0; i < state.hotList.length; i++) {\n                    if (state.hotList[i].news_id == payload.path.split(reg)[1]) {\n                        state.hotList[i].read_num++\n                    }\n                }\n            }\n        },\n\n        //点击喜欢或者收藏时触发，让相应次数增加或者减少\n        actionChange(state, payload){\n            if(payload.type == 'likes'){\n                for(let i = 0; i<state.recList.length; i++){\n                    if(state.recList[i].news_id == payload.id){\n                        state.recList[i].likes +=  payload.num\n                    }\n                }\n                for(let i = 0; i<state.hotList.length; i++){\n                    if(state.hotList[i].news_id == payload.id){\n                        state.hotList[i].likes += payload.num\n                    }\n                }\n            }else if(payload.type == 'collections'){\n                for(let i = 0; i<state.recList.length; i++){\n                    if(state.recList[i].news_id == payload.id){\n                        state.recList[i].collections += payload.num\n                    }\n                }\n                for(let i = 0; i<state.hotList.length; i++){\n                    if(state.hotList[i].news_id == payload.id){\n                        state.hotList[i].collections += payload.num\n                    }\n                }\n            }\n            \n        }\n    },\n})\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}